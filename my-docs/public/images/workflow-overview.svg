<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <defs>
    <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a5f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="prepGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#064e3b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="modelGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4c1d95;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a855f7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#78350f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="600" fill="#0f172a"/>
  
  <!-- INPUT STAGE -->
  <rect x="20" y="20" width="220" height="260" rx="15" fill="url(#inputGrad)" filter="url(#shadow)" stroke="#3b82f6" stroke-width="2"/>
  <text x="130" y="50" text-anchor="middle" fill="#93c5fd" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“¥ INPUT STAGE</text>
  
  <circle cx="80" cy="95" r="25" fill="#1e40af" stroke="#60a5fa" stroke-width="2"/>
  <text x="80" y="100" text-anchor="middle" fill="#fff" font-size="16">ğŸ”¦</text>
  <text x="150" y="95" fill="#bfdbfe" font-family="Arial, sans-serif" font-size="11">LiDAR Sensor</text>
  
  <circle cx="80" cy="160" r="25" fill="#1e40af" stroke="#60a5fa" stroke-width="2"/>
  <text x="80" y="165" text-anchor="middle" fill="#fff" font-size="16">ğŸ“·</text>
  <text x="150" y="160" fill="#bfdbfe" font-family="Arial, sans-serif" font-size="11">Camera</text>
  
  <circle cx="80" cy="225" r="25" fill="#1e40af" stroke="#60a5fa" stroke-width="2"/>
  <text x="80" y="230" text-anchor="middle" fill="#fff" font-size="16">ğŸ“</text>
  <text x="150" y="225" fill="#bfdbfe" font-family="Arial, sans-serif" font-size="11">Calibration</text>
  
  <!-- Arrow 1 -->
  <path d="M 245 150 L 275 150" stroke="#3b82f6" stroke-width="3" fill="none" marker-end="url(#arrowBlue)"/>
  <defs>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6"/>
    </marker>
  </defs>
  
  <!-- DATA PREPARATION -->
  <rect x="280" y="20" width="220" height="260" rx="15" fill="url(#prepGrad)" filter="url(#shadow)" stroke="#10b981" stroke-width="2"/>
  <text x="390" y="50" text-anchor="middle" fill="#a7f3d0" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ”§ DATA PREPARATION</text>
  
  <rect x="310" y="70" width="160" height="40" rx="8" fill="#065f46" stroke="#34d399" stroke-width="1"/>
  <text x="390" y="95" text-anchor="middle" fill="#d1fae5" font-family="Arial, sans-serif" font-size="11">KITTI Format Organization</text>
  
  <rect x="310" y="130" width="160" height="55" rx="8" fill="#065f46" stroke="#34d399" stroke-width="1"/>
  <text x="390" y="150" text-anchor="middle" fill="#d1fae5" font-family="Arial, sans-serif" font-size="11">Data Augmentation</text>
  <text x="390" y="165" text-anchor="middle" fill="#6ee7b7" font-family="Arial, sans-serif" font-size="9">â€¢ Random Flip â€¢ Rotation</text>
  <text x="390" y="178" text-anchor="middle" fill="#6ee7b7" font-family="Arial, sans-serif" font-size="9">â€¢ Scaling â€¢ GT Sampling</text>
  
  <rect x="310" y="200" width="160" height="40" rx="8" fill="#065f46" stroke="#34d399" stroke-width="1"/>
  <text x="390" y="225" text-anchor="middle" fill="#d1fae5" font-family="Arial, sans-serif" font-size="11">Voxelization / Pillars</text>
  
  <!-- Arrow 2 -->
  <path d="M 505 150 L 535 150" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
  <defs>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10b981"/>
    </marker>
  </defs>
  
  <!-- MODEL ARCHITECTURE -->
  <rect x="540" y="20" width="220" height="260" rx="15" fill="url(#modelGrad)" filter="url(#shadow)" stroke="#a855f7" stroke-width="2"/>
  <text x="650" y="50" text-anchor="middle" fill="#e9d5ff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ§  MODEL ARCHITECTURE</text>
  
  <rect x="570" y="70" width="160" height="40" rx="8" fill="#581c87" stroke="#c084fc" stroke-width="1"/>
  <text x="650" y="95" text-anchor="middle" fill="#f3e8ff" font-family="Arial, sans-serif" font-size="11">3D Backbone (Sparse Conv)</text>
  
  <rect x="570" y="130" width="160" height="40" rx="8" fill="#581c87" stroke="#c084fc" stroke-width="1"/>
  <text x="650" y="155" text-anchor="middle" fill="#f3e8ff" font-family="Arial, sans-serif" font-size="11">2D Backbone (BEV)</text>
  
  <rect x="570" y="190" width="160" height="40" rx="8" fill="#581c87" stroke="#c084fc" stroke-width="1"/>
  <text x="650" y="215" text-anchor="middle" fill="#f3e8ff" font-family="Arial, sans-serif" font-size="11">Detection Head (RPN+RCNN)</text>
  
  <!-- Arrow 3 -->
  <path d="M 765 150 L 795 150" stroke="#a855f7" stroke-width="3" fill="none" marker-end="url(#arrowPurple)"/>
  <defs>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#a855f7"/>
    </marker>
  </defs>
  
  <!-- OUTPUT STAGE -->
  <rect x="760" y="20" width="220" height="260" rx="15" fill="url(#outputGrad)" filter="url(#shadow)" stroke="#f59e0b" stroke-width="2"/>
  <text x="870" y="50" text-anchor="middle" fill="#fef3c7" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ğŸ“¤ OUTPUT STAGE</text>
  
  <rect x="790" y="70" width="160" height="35" rx="8" fill="#92400e" stroke="#fbbf24" stroke-width="1"/>
  <text x="870" y="92" text-anchor="middle" fill="#fef9c3" font-family="Arial, sans-serif" font-size="11">3D Bounding Boxes</text>
  
  <rect x="790" y="120" width="160" height="50" rx="8" fill="#92400e" stroke="#fbbf24" stroke-width="1"/>
  <text x="870" y="140" text-anchor="middle" fill="#fef9c3" font-family="Arial, sans-serif" font-size="11">Class Labels</text>
  <text x="870" y="158" text-anchor="middle" fill="#fcd34d" font-family="Arial, sans-serif" font-size="9">Car â€¢ Pedestrian â€¢ Cyclist</text>
  
  <rect x="790" y="185" width="160" height="35" rx="8" fill="#92400e" stroke="#fbbf24" stroke-width="1"/>
  <text x="870" y="207" text-anchor="middle" fill="#fef9c3" font-family="Arial, sans-serif" font-size="11">Confidence Scores</text>
  
  <rect x="815" y="235" width="110" height="35" rx="10" fill="#f59e0b" stroke="#fbbf24" stroke-width="2"/>
  <text x="870" y="258" text-anchor="middle" fill="#1f2937" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ğŸ¯ Detection</text>
  
  <!-- Vertical Arrows -->
  <path d="M 390 110 L 390 130" stroke="#34d399" stroke-width="2" fill="none"/>
  <path d="M 390 185 L 390 200" stroke="#34d399" stroke-width="2" fill="none"/>
  <path d="M 650 110 L 650 130" stroke="#c084fc" stroke-width="2" fill="none"/>
  <path d="M 650 170 L 650 190" stroke="#c084fc" stroke-width="2" fill="none"/>
  <path d="M 870 105 L 870 120" stroke="#fbbf24" stroke-width="2" fill="none"/>
  <path d="M 870 170 L 870 185" stroke="#fbbf24" stroke-width="2" fill="none"/>
  <path d="M 870 220 L 870 235" stroke="#fbbf24" stroke-width="2" fill="none"/>
  
  <!-- Title -->
  <text x="500" y="320" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="20" font-weight="bold">LiDAR 3D Object Detection Pipeline</text>
  
  <!-- Legend -->
  <rect x="200" y="350" width="600" height="80" rx="10" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="500" y="375" text-anchor="middle" fill="#94a3b8" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Pipeline Stages</text>
  
  <rect x="230" y="395" width="15" height="15" rx="3" fill="#3b82f6"/>
  <text x="255" y="407" fill="#cbd5e1" font-family="Arial, sans-serif" font-size="11">Input</text>
  
  <rect x="330" y="395" width="15" height="15" rx="3" fill="#10b981"/>
  <text x="355" y="407" fill="#cbd5e1" font-family="Arial, sans-serif" font-size="11">Preparation</text>
  
  <rect x="470" y="395" width="15" height="15" rx="3" fill="#a855f7"/>
  <text x="495" y="407" fill="#cbd5e1" font-family="Arial, sans-serif" font-size="11">Model</text>
  
  <rect x="580" y="395" width="15" height="15" rx="3" fill="#f59e0b"/>
  <text x="605" y="407" fill="#cbd5e1" font-family="Arial, sans-serif" font-size="11">Output</text>
</svg>
